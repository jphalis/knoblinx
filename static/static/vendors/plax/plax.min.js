!function(a){function o(a){var b=[0,0,0],c=a.css("-webkit-transform")||a.css("-moz-transform")||a.css("-ms-transform")||a.css("-o-transform")||a.css("transform");if("none"!==c){var d=c.split("(")[1].split(")")[0].split(","),e=0,f=0,g=0;16==d.length?(e=parseFloat(d[d.length-4]),f=parseFloat(d[d.length-3]),g=parseFloat(d[d.length-2])):(e=parseFloat(d[d.length-2]),f=parseFloat(d[d.length-1]),g=0),b=[e,f,g]}return b}function p(a){if(0===a.offsetWidth||0===a.offsetHeight)return!1;for(var b=document.documentElement.clientHeight,c=a.getClientRects(),d=0,e=c.length;d<e;d++){var f=c[d],g=f.top>0?f.top<=b:f.bottom>0&&f.bottom<=b;if(g)return!0}return!1}function q(){var b,a=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)void 0!==a.style[d]&&(a.style[d]="translate3d(1px,1px,1px)",b=window.getComputedStyle(a).getPropertyValue(c[d]));return document.body.removeChild(a),void 0!==b&&b.length>0&&"none"!==b}function r(){return l!==!0&&void 0!==window.DeviceOrientationEvent}function s(a){if(x=a.gamma,y=a.beta,90===Math.abs(window.orientation)){var b=x;x=y,y=b}return window.orientation<0&&(x=-x,y=-y),j=null===j?x:j,k=null===k?y:k,{x:x-j,y:y-k}}function t(a){if(!((new Date).getTime()<d+c)){d=(new Date).getTime();var b=null!=f.offset()?f.offset().left:0,j=null!=f.offset()?f.offset().top:0,k=a.pageX-b,n=a.pageY-j;if(p(e[0].obj[0].parentNode)){if(r()){if(void 0===a.gamma)return void(l=!0);values=s(a),k=values.x/g,n=values.y/g,k=k<i?i:k>h?h:k,n=n<i?i:n>h?h:n,k=(k+1)/2,n=(n+1)/2}var t,u,o=k/(r()===!0?h:f.width()),q=n/(r()===!0?h:f.height());for(u=e.length;u--;)t=e[u],m.useTransform&&!t.background?(newX=t.transformStartX+t.inversionFactor*(t.xRange*o),newY=t.transformStartY+t.inversionFactor*(t.yRange*q),newZ=t.transformStartZ,t.obj.css({transform:"translate3d("+newX+"px,"+newY+"px,"+newZ+"px)"})):(newX=t.startX+t.inversionFactor*(t.xRange*o),newY=t.startY+t.inversionFactor*(t.yRange*q),t.background?t.obj.css("background-position",newX+"px "+newY+"px"):t.obj.css("left",newX).css("top",newY))}}}var b=25,c=1/b*1e3,d=(new Date).getTime(),e=[],f=a(window),g=30,h=1,i=-1,j=null,k=null,l=!1,m=null,n={useTransform:!0};a.fn.plaxify=function(b){return m=a.extend({},n,b),m.useTransform=!!m.useTransform&&q(),this.each(function(){for(var c=-1,d={xRange:a(this).data("xrange")||0,yRange:a(this).data("yrange")||0,zRange:a(this).data("zrange")||0,invert:a(this).data("invert")||!1,background:a(this).data("background")||!1},f=0;f<e.length;f++)this===e[f].obj.get(0)&&(c=f);for(var g in b)0==d[g]&&(d[g]=b[g]);if(d.inversionFactor=d.invert?-1:1,d.obj=a(this),d.background){if(pos=(d.obj.css("background-position")||"0px 0px").split(/ /),2!=pos.length)return;if(x=pos[0].match(/^((-?\d+)\s*px|0+\s*%|left)$/),y=pos[1].match(/^((-?\d+)\s*px|0+\s*%|top)$/),!x||!y)return;d.originX=d.startX=x[2]||0,d.originY=d.startY=y[2]||0,d.transformOriginX=d.transformStartX=0,d.transformOriginY=d.transformStartY=0,d.transformOriginZ=d.transformStartZ=0}else{var h=d.obj.position(),i=o(d.obj);d.obj.css({transform:i.join()+"px",top:h.top,left:h.left,right:"",bottom:""}),d.originX=d.startX=h.left,d.originY=d.startY=h.top,d.transformOriginX=d.transformStartX=i[0],d.transformOriginY=d.transformStartY=i[1],d.transformOriginZ=d.transformStartZ=i[2]}d.startX-=d.inversionFactor*Math.floor(d.xRange/2),d.startY-=d.inversionFactor*Math.floor(d.yRange/2),d.transformStartX-=d.inversionFactor*Math.floor(d.xRange/2),d.transformStartY-=d.inversionFactor*Math.floor(d.yRange/2),d.transformStartZ-=d.inversionFactor*Math.floor(d.zRange/2),c>=0?e.splice(c,1,d):e.push(d)})},a.plax={enable:function(b){b&&(b.activityTarget&&(f=b.activityTarget||a(window)),"number"==typeof b.gyroRange&&b.gyroRange>0&&(g=b.gyroRange)),f.bind("mousemove.plax",function(a){t(a)}),r()&&(window.ondeviceorientation=function(a){t(a)})},disable:function(b){if(a(document).unbind("mousemove.plax"),window.ondeviceorientation=void 0,b&&"boolean"==typeof b.restorePositions&&b.restorePositions)for(var c=e.length;c--;)layer=e[c],m.useTransform&&!layer.background?layer.obj.css("transform","translate3d("+layer.transformOriginX+"px,"+layer.transformOriginY+"px,"+layer.transformOriginZ+"px)").css("top",layer.originY):e[c].background?layer.obj.css("background-position",layer.originX+"px "+layer.originY+"px"):layer.obj.css("left",layer.originX).css("top",layer.originY);b&&"boolean"==typeof b.clearLayers&&b.clearLayers&&(e=[])}},"undefined"!=typeof ender&&a.ender(a.fn,!0)}(function(){return"undefined"!=typeof jQuery?jQuery:ender}());